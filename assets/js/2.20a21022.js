(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{65:function(e,t,s){"use strict";s.r(t);var a=s(0),r=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"init-vagrant-environment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#init-vagrant-environment","aria-hidden":"true"}},[e._v("#")]),e._v(" Init Vagrant environment")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir ubuntu\ncd ubuntu\nvagrant init ubuntu/xenial64\nvagrant up\nvagrant ssh\n")])]),s("h1",{attrs:{id:"configure-iam-on-aws"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-iam-on-aws","aria-hidden":"true"}},[e._v("#")]),e._v(" Configure IAM on AWS")]),s("ul",[s("li",[e._v("Open https://console.aws.amazon.com/iam/home?region=eu-central-1#/users")]),s("li",[e._v("Press the "),s("code",[e._v("Add user")]),e._v(" button")]),s("li",[e._v("Enter username "),s("code",[e._v("kops")])]),s("li",[e._v("Choose the "),s("code",[e._v("Access type")]),e._v(" - "),s("code",[e._v("Programmatic access")])]),s("li",[e._v("Press "),s("code",[e._v("Next:Premissions")]),e._v(" button")]),s("li",[e._v("Press "),s("code",[e._v("Next:Review")]),e._v(" button")]),s("li",[e._v("Press "),s("code",[e._v("Create user")]),e._v(" button")]),s("li",[e._v("Copy the "),s("code",[e._v("Access key ID")]),e._v(" and "),s("code",[e._v("Secret access key")])]),s("li",[e._v("Press "),s("code",[e._v("Close")]),e._v(" button")]),s("li",[e._v("Choose the "),s("code",[e._v("kops")]),e._v(" user")]),s("li",[e._v("Press "),s("code",[e._v("Add permissions")]),e._v(" button")]),s("li",[e._v("Choose "),s("code",[e._v("Attach existing policies directly")])]),s("li",[e._v("Choose only the "),s("code",[e._v("Administrator access")])]),s("li",[e._v("Press "),s("code",[e._v("Next:Review")]),e._v(" button")]),s("li",[e._v("Press "),s("code",[e._v("Add permissions")]),e._v(" button")])]),s("h1",{attrs:{id:"configure-s3-on-aws"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-s3-on-aws","aria-hidden":"true"}},[e._v("#")]),e._v(" Configure S3 on AWS")]),s("ul",[s("li",[e._v("Open https://s3.console.aws.amazon.com/s3/home?region=eu-central-1")]),s("li",[e._v("Press "),s("code",[e._v("Create bucket")]),e._v(" button")]),s("li",[e._v("Enter bucket name "),s("code",[e._v("kops-state-<project_name_or_whatever_unique>")]),e._v(" (e.g. "),s("code",[e._v("kops-state-r4nd0m")]),e._v(")")])]),s("h1",{attrs:{id:"configure-route53-on-aws"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-route53-on-aws","aria-hidden":"true"}},[e._v("#")]),e._v(" Configure Route53 on AWS")]),s("ul",[s("li",[e._v("Open https://console.aws.amazon.com/route53/home?region=eu-central-1#hosted-zones:")]),s("li",[e._v("Press "),s("code",[e._v("Create Hosted Zone")])]),s("li",[e._v("Enter the domain name "),s("code",[e._v("kubernetes.<your_domain_name>")]),e._v(" (e.g. "),s("code",[e._v("kubernetes.example.com")]),e._v(")")]),s("li",[e._v("Press "),s("code",[e._v("Create")]),e._v(" button")])]),s("h1",{attrs:{id:"configure-your-domain-name-provider-e-g-https-www-namecheap-com"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-your-domain-name-provider-e-g-https-www-namecheap-com","aria-hidden":"true"}},[e._v("#")]),e._v(" Configure <your_domain_name_provider> (e.g. https://www.namecheap.com)")]),s("ul",[s("li",[e._v("Set the "),s("code",[e._v("NS")]),e._v(" records for the domain name "),s("code",[e._v("kubernetes.<your_domain_name>")]),e._v(" (e.g. "),s("code",[e._v("kubernetes.example.com")]),e._v(") with values from Route53")])]),s("h1",{attrs:{id:"installing-kops"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-kops","aria-hidden":"true"}},[e._v("#")]),e._v(" Installing kops")]),s("p",[e._v("Get the stable release number https://api.github.com/repos/kubernetes/kops/releases/latest")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("wget https://github.com/kubernetes/kops/releases/download/1.8.1/kops-linux-amd64\nchmod +x kops-linux-amd64\nsudo mv kops-linux-amd64 /usr/local/bin/\nsudo mv /usr/local/bin/kops-linux-amd64 /usr/local/bin/kops\n")])]),s("h1",{attrs:{id:"configure-awscli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configure-awscli","aria-hidden":"true"}},[e._v("#")]),e._v(" Configure awscli")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sudo apt-get update\nsudo apt-get install python-pip\nsudo pip install awscli\naws configure\n")])]),s("h1",{attrs:{id:"install-kubectl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-kubectl","aria-hidden":"true"}},[e._v("#")]),e._v(" Install kubectl")]),s("p",[e._v("Get the stable release number https://storage.googleapis.com/kubernetes-release/release/stable.txt")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("wget https://storage.googleapis.com/kubernetes-release/release/v1.10.0/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo mv kubectl /usr/local/bin/\n")])]),s("h1",{attrs:{id:"generate-ssh-keys"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#generate-ssh-keys","aria-hidden":"true"}},[e._v("#")]),e._v(" Generate ssh keys")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ssh-keygen -f .ssh/id_rsa\n")])]),s("ul",[s("li",[e._v("Private key "),s("code",[e._v(".ssh/id_rsa")])]),s("li",[e._v("Public key "),s("code",[e._v(".ssh/id_rsa.pub")])])]),s("h1",{attrs:{id:"creating-cluster"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creating-cluster","aria-hidden":"true"}},[e._v("#")]),e._v(" Creating cluster")]),s("p",[e._v("Zones reference - https://gist.github.com/neilstuartcraig/0ccefcf0887f29b7f240")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kops create cluster --name=kubernetes.<your_domain_name> --state=s3://kops-state-<project_name_or_whatever_unique> --zones=eu-central-1a --node-count=2 --node-size=t2.micro --master-size=t2.micro --dns-zone=kubernetes.<your_domain_name>\nkops update cluster kubernetes.<your_domain_name> --yes --state=s3://kops-state-<project_name_or_whatever_unique>\n")])]),s("p",[e._v("Wait until all nodes will be ready - "),s("code",[e._v("kubectl get nodes")])]),s("h1",{attrs:{id:"deploy-the-dashboard"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy-the-dashboard","aria-hidden":"true"}},[e._v("#")]),e._v(" Deploy the dashboard")]),s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml\n")])]),s("ul",[s("li",[e._v("Run "),s("code",[e._v("kubectl get nodes")]),e._v(" and copy the "),s("code",[e._v("Name")]),e._v(" of node, where "),s("code",[e._v("Roles=master")]),e._v(" (e.g. "),s("code",[e._v("ip-xx-xx-xx-xxx.eu-central-1.compute.internal")]),e._v(")")]),s("li",[e._v("Run "),s("code",[e._v("kubectl describe nodes ip-xx-xx-xx-xxx.eu-central-1.compute.internal")]),e._v(" and search for an "),s("code",[e._v("ExternalIP")]),e._v(" value (e.g. "),s("code",[e._v("xx.xx.xxx.xx")]),e._v(")")]),s("li",[e._v("Access the "),s("code",[e._v("ExternalIP")]),e._v(" via "),s("code",[e._v("https")]),e._v(" protocol. (e.g. "),s("code",[e._v("https://xx.xx.xxx.xx/ui")]),e._v(")")]),s("li",[e._v("Run "),s("code",[e._v("kubectl config view")]),e._v(" to get the basic auth credentials")]),s("li",[e._v("Run "),s("code",[e._v("kubectl get secret")]),e._v(" to view list of secrets")]),s("li",[e._v("Run "),s("code",[e._v("kubectl describe secret default-token-<some_random_id>")]),e._v(" to get the Token for Sign in to the Dashboard UI")])])])}],!1,null,null,null);t.default=r.exports}}]);